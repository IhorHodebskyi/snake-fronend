"use strict";(self.webpackChunksnake_frontend=self.webpackChunksnake_frontend||[]).push([[421],{421:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var r,a,c=n(9439),s=n(3433),o=n(2791),i=n(168),l=n(5867),u=l.ZP.canvas(r||(r=(0,i.Z)(["\n\tbackground-color: #ecf0f1;\n\tborder: 3px solid #bdc3d9;\n"]))),f=n(184),h=function(e){var t=e.score,n=e.setScore,r=e.onGameOver,a=(0,o.useState)(!1),i=(0,c.Z)(a,2),l=i[0],h=i[1],d=(0,o.useRef)(),x=10,y=(0,o.useState)({x:180,y:100}),g=(0,c.Z)(y,2),w=g[0],v=g[1],S=(0,o.useState)([{x:100,y:50},{x:95,y:50}]),k=(0,c.Z)(S,2),m=k[0],p=k[1],b=(0,o.useState)(null),j=(0,c.Z)(b,2),Z=j[0],E=j[1];return(0,o.useEffect)((function(){var e=d.current,a=e.getContext("2d"),c=function(e){window.addEventListener("keydown",e)};if(c((function(e){" "===e.key&&(h(!l),E(null))})),!l){var o=function(t){(t.x+x>e.width||t.x+x<0)&&r("wall"),(t.y+x>e.height||t.y<0)&&r("wall")},i=function(e){for(var t=e[0],n=1;n<e.length;n++)t.x===e[n].x&&t.y===e[n].y&&r("self")},u=function(r){var a=r[0];a.x===w.x&&a.y===w.y&&(n(t++),v({x:Math.floor(Math.random()*e.width/x)*x,y:Math.floor(Math.random()*e.height/x)*x}),r.push({x:r[r.length-1].x,y:r[r.length-1].y}))};c((function(e){switch(e.key){case"ArrowRight":E("right");break;case"ArrowLeft":E("left");break;case"ArrowUp":E("up");break;case"ArrowDown":E("down")}}));var f=setInterval((function(){a.clearRect(0,0,e.width,e.height),m.forEach((function(e){a.beginPath(),a.rect(e.x,e.y,14,14),a.fillStyle="#90ee90",a.fill(),a.closePath()})),a.beginPath(),a.rect(w.x,w.y,14,14),a.fillStyle="#ff0000",a.fill(),a.closePath(),Z&&p((function(e){for(var t=(0,s.Z)(e),n={x:t[0].x,y:t[0].y},r=t.length-1;r>0;r--)t[r].x=t[r-1].x,t[r].y=t[r-1].y;switch(Z){case"right":n.x+=x;break;case"left":n.x-=x;break;case"up":n.y-=x;break;case"down":n.y+=x}return t[0]=n,u(t),o(n),i(t),t}))}),100);return function(){clearInterval(f)}}}),[w.x,w.y,Z,r,l,t,n,m]),(0,f.jsxs)("div",{children:[l&&(0,f.jsx)("p",{children:"pause"}),(0,f.jsx)(u,{ref:d,width:750,height:420})]})},d=function(){var e=(0,o.useState)(0),t=(0,c.Z)(e,2),n=t[0],r=t[1],a=(0,o.useState)(parseInt(localStorage.getItem("highScore"))||0),s=(0,c.Z)(a,2),i=s[0],l=s[1],u=(0,o.useState)(!1),d=(0,c.Z)(u,2),x=d[0],y=d[1],g=(0,o.useState)(null),w=(0,c.Z)(g,2),v=w[0],S=w[1];return(0,o.useEffect)((function(){window.addEventListener("keydown",(function(e){x&&"Enter"===e.key&&(r(0),y(!1))}))}),[x]),(0,f.jsxs)("div",{className:"game-container",children:[(0,f.jsxs)("p",{className:"score",children:["Score: ",n]}),(0,f.jsxs)("p",{className:"high-score",children:["High Score: ",i]}),x&&(0,f.jsxs)("div",{className:"game-over",children:[(0,f.jsxs)("p",{children:["Game Over!"," ","wall"===v?"You Hit the wall":"You Ate yourself","!"]}),(0,f.jsx)("p",{children:"Press Enter to reset the game."})]}),!x&&(0,f.jsx)(h,{score:n,setScore:r,onGameOver:function(e){return function(e){y(!0),n>i&&(l(n),localStorage.setItem("highScore",n.toString())),S(e)}(e)}})]})},x=l.ZP.div(a||(a=(0,i.Z)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n"]))),y=function(){return(0,f.jsx)(x,{children:(0,f.jsx)(d,{})})}}}]);
//# sourceMappingURL=421.e473e9a8.chunk.js.map