"use strict";(self.webpackChunksnake_frontend=self.webpackChunksnake_frontend||[]).push([[421],{8421:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var r,c,o,i,a,s=n(9439),l=n(3433),f=n(2791),u=n(168),h=n(5867),d=h.ZP.canvas(r||(r=(0,u.Z)(["\n\tbackground-color: #ecf0f1;\n\tborder: 3px solid #bdc3d9;\n"]))),x=n(184),y=function(e){var t=e.score,n=e.setScore,r=e.onGameOver,c=(0,f.useState)(!1),o=(0,s.Z)(c,2),i=o[0],a=o[1],u=(0,f.useRef)(),h=10,y=(0,f.useState)({x:180,y:100}),g=(0,s.Z)(y,2),w=g[0],v=g[1],p=(0,f.useState)([{x:100,y:50},{x:95,y:50}]),Z=(0,s.Z)(p,2),k=Z[0],S=Z[1],j=(0,f.useState)(null),m=(0,s.Z)(j,2),b=m[0],P=m[1];return(0,f.useEffect)((function(){var e=u.current,c=e.getContext("2d"),o=function(e){window.addEventListener("keydown",e)};if(o((function(e){" "===e.key&&(a(!i),P(null))})),!i){var s=function(t){(t.x+h>e.width||t.x+h<0)&&r("wall"),(t.y+h>e.height||t.y<0)&&r("wall")},f=function(e){for(var t=e[0],n=1;n<e.length;n++)t.x===e[n].x&&t.y===e[n].y&&r("self")},d=function(r){var c=r[0];c.x===w.x&&c.y===w.y&&(n(t++),v({x:Math.floor(Math.random()*e.width/h)*h,y:Math.floor(Math.random()*e.height/h)*h}),r.push({x:r[r.length-1].x,y:r[r.length-1].y}))};o((function(e){switch(e.key){case"ArrowRight":P("right");break;case"ArrowLeft":P("left");break;case"ArrowUp":P("up");break;case"ArrowDown":P("down")}}));var x=setInterval((function(){c.clearRect(0,0,e.width,e.height),k.forEach((function(e){c.beginPath(),c.rect(e.x,e.y,14,14),c.fillStyle="#90ee90",c.fill(),c.closePath()})),c.beginPath(),c.rect(w.x,w.y,14,14),c.fillStyle="#ff0000",c.fill(),c.closePath(),b&&S((function(e){for(var t=(0,l.Z)(e),n={x:t[0].x,y:t[0].y},r=t.length-1;r>0;r--)t[r].x=t[r-1].x,t[r].y=t[r-1].y;switch(b){case"right":n.x+=h;break;case"left":n.x-=h;break;case"up":n.y-=h;break;case"down":n.y+=h}return t[0]=n,d(t),s(n),f(t),t}))}),100);return function(){clearInterval(x)}}}),[w,b,r,i,t,n,k]),(0,x.jsxs)("div",{children:[i&&(0,x.jsx)("p",{children:"pause"}),(0,x.jsx)(d,{ref:u,width:750,height:420})]})},g=h.ZP.div(c||(c=(0,u.Z)(["\n\tdisplay: flex\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n"]))),w=h.ZP.p(o||(o=(0,u.Z)(["\n\tcolor: #1e88e5;\n\tfont-size: 24px;\n"]))),v=h.ZP.div(i||(i=(0,u.Z)(["\n\tcolor: #e74c3c;\n\tfont-size: 24px;\n\tmargin-top: 20px;\n"]))),p=function(){var e=(0,f.useState)(9),t=(0,s.Z)(e,2),n=t[0],r=t[1],c=(0,f.useState)(parseInt(localStorage.getItem("highScore"))||0),o=(0,s.Z)(c,2),i=o[0],a=o[1],l=(0,f.useState)(!1),u=(0,s.Z)(l,2),h=u[0],d=u[1],p=(0,f.useState)(null),Z=(0,s.Z)(p,2),k=Z[0],S=Z[1];return(0,f.useEffect)((function(){window.addEventListener("keydown",(function(e){h&&"Enter"===e.key&&(r(0),d(!1))}))}),[h]),(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(g,{children:[(0,x.jsxs)(w,{children:["Score: ",n]}),h&&(0,x.jsxs)(v,{children:[(0,x.jsxs)("p",{children:["Game Over!"," ","wall"===k?"You Hit the wall":"You Ate yourself","!"]}),(0,x.jsx)("p",{children:"Press Enter to reset the game."})]}),!h&&(0,x.jsx)(y,{score:n,setScore:r,onGameOver:function(e){return function(e){console.log(e),d(!0),n>i&&(a(n),localStorage.setItem("highScore",n.toString())),S(e)}(e)}})]})})},Z=h.ZP.div(a||(a=(0,u.Z)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n"]))),k=n(9434),S=n(7370),j=function(){var e=(0,k.I0)();return(0,f.useEffect)((function(){e((0,S.j)())}),[e]),(0,x.jsx)(Z,{children:(0,x.jsx)(p,{})})}}}]);
//# sourceMappingURL=421.935ee6e2.chunk.js.map