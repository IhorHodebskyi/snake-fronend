"use strict";(self.webpackChunksnake_frontend=self.webpackChunksnake_frontend||[]).push([[419],{7419:function(n,e,t){t.r(e),t.d(e,{default:function(){return q}});var r,i,o,u,c,a,l,f=t(9439),s=t(3433),h=t(2791),p=t(168),d=t(5867),y=d.ZP.div(r||(r=(0,p.Z)(["\n\tposition: relative;\n"]))),v=d.ZP.p(i||(i=(0,p.Z)(["\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 50%;\n\ttransform: translate(-50%, -50%);\n\tfont-size: 32px;\n\tcolor: #64b5f6;\n"]))),x=d.ZP.canvas(o||(o=(0,p.Z)(["\n\tbackground-color: #ecf0f1;\n\tborder: 2px solid #90caf9;\n"]))),g=t(184),w=function(n){var e=n.score,t=n.setScore,r=n.onGameOver,i=(0,h.useState)(!1),o=(0,f.Z)(i,2),u=o[0],c=o[1],a=(0,h.useRef)(),l=10,p=(0,h.useState)({x:180,y:100}),d=(0,f.Z)(p,2),w=d[0],m=d[1],k=(0,h.useState)([{x:100,y:50},{x:95,y:50}]),Z=(0,f.Z)(k,2),j=Z[0],b=Z[1],S=(0,h.useState)(null),E=(0,f.Z)(S,2),P=E[0],A=E[1],z=(0,h.useState)(100),O=(0,f.Z)(z,2),_=O[0],C=O[1],R=(0,h.useState)(10),I=(0,f.Z)(R,2),L=I[0],M=I[1];if(L===e){var q=_-10;M(10),C(q)}return(0,h.useEffect)((function(){var n=a.current,i=n.getContext("2d"),o=function(n){window.addEventListener("keydown",n)},f=function(n){window.removeEventListener("keydown",n)},h=function(n){" "===n.key&&(c(!u),A(null))};o(h);var p=function(e){(e.x+l>n.width||e.x+l<0)&&r("wall"),(e.y+l>n.height||e.y<0)&&r("wall")},d=function(n){for(var e=n[0],t=1;t<n.length;t++)e.x===n[t].x&&e.y===n[t].y&&r("self")},y=function(r){var i=r[0];i.x===w.x&&i.y===w.y&&(t(++e),m({x:Math.floor(Math.random()*n.width/l)*l,y:Math.floor(Math.random()*n.height/l)*l}),r.push({x:r[r.length-1].x,y:r[r.length-1].y}))},v=function(n){switch(n.key){case"ArrowRight":A("right");break;case"ArrowLeft":A("left");break;case"ArrowUp":A("up");break;case"ArrowDown":A("down")}};if(o(v),!u){var x=setInterval((function(){i.clearRect(0,0,n.width,n.height),j.forEach((function(n){i.beginPath(),i.rect(n.x,n.y,14,14),i.fillStyle="#90ee90",i.fill(),i.closePath()})),i.beginPath(),i.rect(w.x,w.y,14,14),i.fillStyle="#ff0000",i.fill(),i.closePath(),P&&b((function(n){for(var e=(0,s.Z)(n),t={x:e[0].x,y:e[0].y},r=e.length-1;r>0;r--)e[r].x=e[r-1].x,e[r].y=e[r-1].y;switch(P){case"right":t.x+=l;break;case"left":t.x-=l;break;case"up":t.y-=l;break;case"down":t.y+=l}return e[0]=t,y(e),p(t),d(e),e}))}),_);return function(){clearInterval(x)}}return function(){f(v),f(h)}}),[w,P,r,u,e,t,j,_]),(0,g.jsxs)(y,{children:[u&&(0,g.jsx)(v,{children:"pause"}),(0,g.jsx)(x,{ref:a,width:750,height:420})]})},m=t(9434),k=d.ZP.div(u||(u=(0,p.Z)(["\n\tdisplay: flex\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    text-align: center;\n"]))),Z=d.ZP.p(c||(c=(0,p.Z)(["\n\tcolor: #1e88e5;\n\tfont-size: 24px;\n"]))),j=d.ZP.p(a||(a=(0,p.Z)(["\n\tcolor: #e74c3c;\n\tfont-size: 18px;\n"]))),b=d.ZP.div(l||(l=(0,p.Z)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\ttext-align: center;\n\tcolor: #e74c3c;\n\tfont-size: 24px;\n\tmargin-top: 20px;\n\tul {\n\t\tpadding: 0;\n\t}\n"]))),S=t(7370),E=t(4217),P="NOT_FOUND";var A=function(n,e){return n===e};function z(n,e){var t="object"===typeof e?e:{equalityCheck:e},r=t.equalityCheck,i=void 0===r?A:r,o=t.maxSize,u=void 0===o?1:o,c=t.resultEqualityCheck,a=function(n){return function(e,t){if(null===e||null===t||e.length!==t.length)return!1;for(var r=e.length,i=0;i<r;i++)if(!n(e[i],t[i]))return!1;return!0}}(i),l=1===u?function(n){var e;return{get:function(t){return e&&n(e.key,t)?e.value:P},put:function(n,t){e={key:n,value:t}},getEntries:function(){return e?[e]:[]},clear:function(){e=void 0}}}(a):function(n,e){var t=[];function r(n){var r=t.findIndex((function(t){return e(n,t.key)}));if(r>-1){var i=t[r];return r>0&&(t.splice(r,1),t.unshift(i)),i.value}return P}return{get:r,put:function(e,i){r(e)===P&&(t.unshift({key:e,value:i}),t.length>n&&t.pop())},getEntries:function(){return t},clear:function(){t=[]}}}(u,a);function f(){var e=l.get(arguments);if(e===P){if(e=n.apply(null,arguments),c){var t=l.getEntries(),r=t.find((function(n){return c(n.value,e)}));r&&(e=r.value)}l.put(arguments,e)}return e}return f.clearCache=function(){return l.clear()},f}function O(n){var e=Array.isArray(n[0])?n[0]:n;if(!e.every((function(n){return"function"===typeof n}))){var t=e.map((function(n){return"function"===typeof n?"function "+(n.name||"unnamed")+"()":typeof n})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+t+"]")}return e}function _(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var i=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var o,u=0,c={memoizeOptions:void 0},a=r.pop();if("object"===typeof a&&(c=a,a=r.pop()),"function"!==typeof a)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof a+"]");var l=c,f=l.memoizeOptions,s=void 0===f?t:f,h=Array.isArray(s)?s:[s],p=O(r),d=n.apply(void 0,[function(){return u++,a.apply(null,arguments)}].concat(h)),y=n((function(){for(var n=[],e=p.length,t=0;t<e;t++)n.push(p[t].apply(null,arguments));return o=d.apply(null,n)}));return Object.assign(y,{resultFunc:a,memoizedResultFunc:d,dependencies:p,lastResult:function(){return o},recomputations:function(){return u},resetRecomputations:function(){return u=0}}),y};return i}var C,R=_(z),I=R([function(n){return n.game.items}],(function(n){return n.length>0&&n.filter((function(n){return n.high_score>0})).sort((function(n,e){return n.high_score<e.high_score?1:-1}))})),L=function(){var n=(0,m.I0)(),e=(0,h.useState)(0),t=(0,f.Z)(e,2),r=t[0],i=t[1],o=(0,h.useState)(!1),u=(0,f.Z)(o,2),c=u[0],a=u[1],l=(0,h.useState)(null),s=(0,f.Z)(l,2),p=s[0],d=s[1],y=(0,m.v9)(E.dy).high_score,v=(0,h.useState)(y),x=(0,f.Z)(v,2),P=x[0],A=x[1],z=(0,m.v9)(I);return(0,h.useEffect)((function(){window.addEventListener("keydown",(function(n){c&&"Enter"===n.key&&(i(0),a(!1))}))}),[c]),(0,g.jsxs)(k,{children:[(0,g.jsxs)(Z,{className:"score",children:["Score: ",r]}),(0,g.jsxs)(j,{children:["High Score: ",P]}),c&&(0,g.jsxs)(b,{children:[(0,g.jsxs)("p",{children:["Game Over!"," ","wall"===p?"You Hit the wall":"You Ate yourself","!"]}),(0,g.jsx)("p",{children:"Press Enter to reset the game"}),(0,g.jsx)("p",{children:"Records"}),(0,g.jsx)("ul",{children:z.map((function(n){var e=n.id,t=n.name,r=n.high_score;return(0,g.jsxs)("li",{children:[" ",t,":",r]},e)}))})]}),!c&&(0,g.jsx)(w,{score:r,setScore:i,onGameOver:function(e){return function(e){a(!0),r>P&&(n((0,S.c)(r)),A(r)),d(e)}(e)}})]})},M=d.ZP.div(C||(C=(0,p.Z)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n"]))),q=function(){var n=(0,m.I0)();return(0,h.useEffect)((function(){n((0,S.k)())}),[n]),(0,g.jsx)(M,{children:(0,g.jsx)(L,{})})}}}]);
//# sourceMappingURL=419.93da5be2.chunk.js.map