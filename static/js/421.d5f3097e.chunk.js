"use strict";(self.webpackChunksnake_frontend=self.webpackChunksnake_frontend||[]).push([[421],{8421:function(e,t,n){n.r(t),n.d(t,{default:function(){return Z}});var r,o,c,a,i,s=n(9439),l=n(3433),u=n(2791),f=n(168),h=n(5867),d=h.ZP.canvas(r||(r=(0,f.Z)(["\n\tbackground-color: #ecf0f1;\n\tborder: 3px solid #bdc3d9;\n"]))),x=n(184),y=function(e){var t=e.score,n=e.setScore,r=e.onGameOver,o=(0,u.useState)(!1),c=(0,s.Z)(o,2),a=c[0],i=c[1],f=(0,u.useRef)(),h=10,y=(0,u.useState)({x:180,y:100}),g=(0,s.Z)(y,2),w=g[0],v=g[1],p=(0,u.useState)([{x:100,y:50},{x:95,y:50}]),k=(0,s.Z)(p,2),Z=k[0],S=k[1],b=(0,u.useState)(null),j=(0,s.Z)(b,2),m=j[0],P=j[1];return(0,u.useEffect)((function(){var e=f.current,o=e.getContext("2d"),c=function(e){window.addEventListener("keydown",e)};if(c((function(e){" "===e.key&&(i(!a),P(null))})),!a){var s=function(t){(t.x+h>e.width||t.x+h<0)&&r("wall"),(t.y+h>e.height||t.y<0)&&r("wall")},u=function(e){for(var t=e[0],n=1;n<e.length;n++)t.x===e[n].x&&t.y===e[n].y&&r("self")},d=function(r){var o=r[0];o.x===w.x&&o.y===w.y&&(n(t++),v({x:Math.floor(Math.random()*e.width/h)*h,y:Math.floor(Math.random()*e.height/h)*h}),r.push({x:r[r.length-1].x,y:r[r.length-1].y}))};c((function(e){switch(e.key){case"ArrowRight":P("right");break;case"ArrowLeft":P("left");break;case"ArrowUp":P("up");break;case"ArrowDown":P("down")}}));var x=setInterval((function(){o.clearRect(0,0,e.width,e.height),Z.forEach((function(e){o.beginPath(),o.rect(e.x,e.y,14,14),o.fillStyle="#90ee90",o.fill(),o.closePath()})),o.beginPath(),o.rect(w.x,w.y,14,14),o.fillStyle="#ff0000",o.fill(),o.closePath(),m&&S((function(e){for(var t=(0,l.Z)(e),n={x:t[0].x,y:t[0].y},r=t.length-1;r>0;r--)t[r].x=t[r-1].x,t[r].y=t[r-1].y;switch(m){case"right":n.x+=h;break;case"left":n.x-=h;break;case"up":n.y-=h;break;case"down":n.y+=h}return t[0]=n,d(t),s(n),u(t),t}))}),100);return function(){clearInterval(x)}}}),[w,m,r,a,t,n,Z]),(0,x.jsxs)("div",{children:[a&&(0,x.jsx)("p",{children:"pause"}),(0,x.jsx)(d,{ref:f,width:750,height:420})]})},g=h.ZP.div(o||(o=(0,f.Z)(["\n\tbackground-color: #ecf0f1;\n\tborder: 1px solid #bdc3d9;\n"]))),w=h.ZP.p(c||(c=(0,f.Z)(["\n\tcolor: #1e88e5;\n\tfont-size: 24px;\n"]))),v=h.ZP.div(a||(a=(0,f.Z)(["\n\tcolor: #e74c3c;\n\tfont-size: 24px;\n\tmargin-top: 20px;\n"]))),p=function(){var e=(0,u.useState)(9),t=(0,s.Z)(e,2),n=t[0],r=t[1],o=(0,u.useState)(parseInt(localStorage.getItem("highScore"))||0),c=(0,s.Z)(o,2),a=c[0],i=c[1],l=(0,u.useState)(!1),f=(0,s.Z)(l,2),h=f[0],d=f[1],p=(0,u.useState)(null),k=(0,s.Z)(p,2),Z=k[0],S=k[1];return(0,u.useEffect)((function(){window.addEventListener("keydown",(function(e){h&&"Enter"===e.key&&(r(0),d(!1))}))}),[h]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(w,{children:["Score: ",n]}),h&&(0,x.jsxs)(v,{children:[(0,x.jsxs)("p",{children:["Game Over!"," ","wall"===Z?"You Hit the wall":"You Ate yourself","!"]}),(0,x.jsx)("p",{children:"Press Enter to reset the game."})]}),(0,x.jsx)(g,{children:!h&&(0,x.jsx)(y,{score:n,setScore:r,onGameOver:function(e){return function(e){console.log(e),d(!0),n>a&&(i(n),localStorage.setItem("highScore",n.toString())),S(e)}(e)}})})]})},k=h.ZP.div(i||(i=(0,f.Z)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n"]))),Z=function(){return(0,x.jsx)(k,{children:(0,x.jsx)(p,{})})}}}]);
//# sourceMappingURL=421.d5f3097e.chunk.js.map